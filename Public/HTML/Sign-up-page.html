<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>הרשמו - שבב הב</title>
    <link rel="stylesheet" href="../Style/sign-up-page-style.css">
</head>
<body>
    <div class="quastionaire">
<!--need to make a class for all the input divs-->
    <div class="question-div" id="insert-name">
        <p>:שם מלא</p>
        <input type="text" id="name">
    </div>
    <div class="question-div" id="insert-id">
        <p>:תעודת זהות</p>
        <input type="text" id="id">
    </div>  
    <div class="question-div" id="insert-phone">
        <p>:טלפון</p>
        <input type="text" id="phone">
    </div>
    <div class="question-div" id="insert-gmail">
        <p>:כתובת מייל</p>
        <input type="text" id="gmail">
    </div>
    <div class="question-div" id="insert-password">
        <p>:סיסמה</p>
        <input type="text" id="password">
    </div>
</div>
<div>
    <button class="sign-up-button" onclick="passValue()">
        הירשם! 
    </button>
</div>
</body>
<script>
    function passValue(){
        var name =  document.getElementById("name").value;
        var id = document.getElementById("id").value;
        var phone = document.getElementById("phone").value;
        var age = document.getElementById("age").value;
        var password = document.getElementById("password").value;
        var placeholder = new { key: "value"};
        var newVoulenteerData = {
             name: name,
             id: id, 
             phone: phone,
             age: age,
             password: password
        };
 
    const requestOptions = {
        method: 'POST',
        headers: {
            "Content-Type": "application/json",
        },
        body: JSON.stringify(newVoulenteerData) // Stringify the JSON data
    }; 
    fetch(serverAdress+'/signup', requestOptions)
        .then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return response.json();
        })
        .then(data => {
            // Handle the response data if needed
            console.log(data);
            // Redirect to '/index' after successful request
            location.href = 'pages/index';
        })
        .catch(error => {
            // Handle errors
            console.error('There was a problem with the fetch operation:', error);
        });

    }
</script>    
    </html>